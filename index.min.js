"use strict";function _defineProperties(o,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function _createClass(o,r,t){return r&&_defineProperties(o.prototype,r),t&&_defineProperties(o,t),o}var Color=function(){function Color(o){var r=void 0===o?{color:[0,0,0],type:"rgb",precision:3,capitalize:!0}:o,t=r.color,e=void 0===t?[0,0,0]:t,n=r.type,a=void 0===n?"rgb":n,i=r.precision,l=void 0===i?3:i,u=r.capitalize,s=void 0===u||u;this.updateColor(e,a),this.precision=l,this.capitalize=s}return Color.prototype.updateColor=function updateColor(o,r){var t;if(void 0===r&&(r="rgb"),"string"!=typeof r)throw new TypeError("Parameter 2 must be of type string.");if(r=r.toLowerCase(),!Color.validTypes.includes(r))throw new TypeError("Parameter 2 '"+r+"' is not a valid type.");switch(r){case"rgb":t=Color.rgbToXyz(o);break;case"hsl":t=Color.rgbToXyz(Color.hslToRgb(o));break;case"hex":t=Color.rgbToXyz(Color.hexToRgb(o));break;case"lab":t=Color.labToXyz(o);break;case"lchab":t=Color.labToXyz(Color.lchABToLab(o));break;case"luv":t=Color.luvToXyz(o);break;case"lchuv":t=Color.luvToXyz(Color.lchUVToLuv(o));break;case"xyz":case"default":this._xyz=o,this._rgb=Color.xyzToRgb(this._xyz),this._hsl=Color.rgbToHsl(this._rgb),this._hex=Color.rgbToHex(this._rgb),this._lab=Color.xyzToLab(this._xyz),this._lchab=Color.labToLCHab(this._lab),this._luv=Color.xyzToLuv(this._xyz),this._lchuv=Color.luvToLCHuv(this._luv)}"xyz"!==r&&this.updateColor(t,"xyz")},Color.rgbToHsl=function rgbToHsl(o){var r=o[0]/255,t=o[1]/255,e=o[2]/255,n=Math.max(r,t,e),a=Math.min(r,t,e),i=(n+a)/2,l=0,u=0;return n!==a&&(l=i<.5?(n-a)/(n+a):(n-a)/(2-n-a),u=r===n?(t-e)/(n-a):t===n?2+(e-r)/(n-a):4+(r-t)/(n-a)),[(u=(u*=60)<0?u%360+360:u)+0,(l*=100)+0,(i*=100)+0]},Color.hslToRgb=function hslToRgb(o){var r=o[0],t=o[1],e=o[2];isFinite(r)||(r=0),isFinite(t)||(t=0),isFinite(e)||(e=0),r=r<0?r%360+360:r,e/=100,t/=100,r/=60;var n=(1-Math.abs(2*e-1))*t,a=n*(1-Math.abs(r%2-1)),i=e-n/2,l=r<1?[n,a,0]:r<2?[a,n,0]:r<3?[0,n,a]:r<4?[0,a,n]:r<5?[a,0,n]:[n,0,a];return l.map(function(o){return Math.round(255*(o+i))+0})},Color.rgbToHex=function rgbToHex(o){function S(o){var r=o.toString(16);return 1===r.length?"0"+r:r}var r=o[0],t=o[1],e=o[2];return"#"+S(r)+S(t)+S(e)},Color.hexToRgb=function hexToRgb(o){o=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,r,t,e){return r+r+t+t+e+e});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:null},Color.rgbToXyz=function rgbToXyz(o){function ea(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}var r=o[0]/255,t=o[1]/255,e=o[2]/255,n=ea(r),a=ea(t),i=ea(e);return[100*(.4124*n+.3576*a+.1805*i)+0,100*(.2126*n+.7152*a+.0722*i)+0,100*(.0193*n+.1192*a+.9505*i)+0]},Color.xyzToRgb=function xyzToRgb(o){function ta(o){return o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055}var r=o[0]/100,t=o[1]/100,e=o[2]/100,n=-.9689307147293197*r+1.8757560608852415*t+.041517523842953964*e,a=.055710120445510616*r+-.2040210505984867*t+1.0569959422543882*e,i=ta(3.2406254773200533*r-1.5372079722103187*t-.4986285986982479*e),l=ta(n),u=ta(a);return[Math.round(255*i)+0,Math.round(255*l)+0,Math.round(255*u)+0]},Color.xyzToLab=function xyzToLab(o){function Fa(o){return 216/24389<o?n(o):(24389/27*o+16)/116}var r=o[0]/Color.d65[0],t=o[1]/Color.d65[1],e=o[2]/Color.d65[2],n=null!=Math.cbrt?Math.cbrt:function(o){return Math.pow(o,1/3)},a=Fa(r),i=Fa(t);return[116*i-16,0+500*(a-i),0+200*(i-Fa(e))]},Color.labToXyz=function labToXyz(o){var r=o[0],t=o[1],e=216/24389,n=24389/27,a=(r+16)/116,i=a-o[2]/200,l=t/500+a,u=Math.pow(l,3)>e?Math.pow(l,3):(116*l-16)/n,s=8<r?Math.pow((r+16)/116,3):r/n,c=Math.pow(i,3)>e?Math.pow(i,3):(116*i-16)/n;return[u*Color.d65[0]+0,s*Color.d65[1]+0,c*Color.d65[2]+0]},Color.labToLCHab=function labToLCHab(o){var r=o[1],t=Math.abs(o[2])<Color.maxZeroTolerance?0:o[2],e=Math.sqrt(r*r+t*t),n=0<=Math.atan2(t,r)?Math.atan2(t,r)/Math.PI*180:Math.atan2(t,r)/Math.PI*180+360;return[o[0]+0,e+0,0+n]},Color.lchABToLab=function lchABToLab(o){var r=o[1],t=o[2],e=r*Math.cos(t/180*Math.PI),n=r*Math.sin(t/180*Math.PI);return[o[0]+0,0+e,0+n]},Color.xyzToLuv=function xyzToLuv(o){var r=o[0],t=o[1],e=o[2],n=Color.d65[0],a=Color.d65[1],i=Color.d65[2],l=9*a/(n+15*a+3*i),u=4*n/(n+15*a+3*i);if(0===r&&0===t&&0===e)return[0,0,0];var s=9*t/(r+15*t+3*e),c=4*r/(r+15*t+3*e),h=t/a,p=null!=Math.cbrt?Math.cbrt:function(o){return Math.pow(o,1/3)},C=216/24389<h?116*p(h,1/3)-16:24389/27*h;return[0+C,0+13*C*(c-u),0+13*C*(s-l)]},Color.luvToXyz=function luvToXyz(o){var r=o[0],t=o[1],e=o[2],n=Color.d65[0],a=Color.d65[1],i=Color.d65[2],l=9*a/(n+15*a+3*i),u=4*n/(n+15*a+3*i),s=8<r?Math.pow((r+16)/116,3):r/(24389/27),c=-5*s,h=(52*r/(t+13*r*u)-1)/3||0,p=((s*(39*r/(e+13*r*l)-5)||0)-c)/(h- -1/3);return[100*p+0,100*s+0,100*(p*h+c)+0]},Color.luvToLCHuv=function luvToLCHuv(o){var r=o[0],t=Math.abs(o[1])<Color.maxZeroTolerance?0:o[1],e=Math.abs(o[2])<Color.maxZeroTolerance?0:o[2],n=Math.sqrt(t*t+e*e),a=180*Math.atan2(e,t)/Math.PI;return[r+0,n+0,(a=0<=a?a:a+360)+0]},Color.lchUVToLuv=function lchUVToLuv(o){var r=o[0],t=o[1],e=o[2]/180*Math.PI;return[r+0,0+t*Math.cos(e),0+t*Math.sin(e)]},Color.luminance=function luminance(o,r){if(void 0===r&&(r="rgb"),"string"!=typeof r)throw new TypeError("Parameter 2 must be of type string.");if(r=r.toLowerCase(),!Color.validTypes.includes(r))throw new TypeError("Parameter 2 '"+r+"' is not a valid type.");"rgb"!==r&&(o=new Color({color:o,type:r}).rgb),o=[].concat(o);for(var t=0;t<o.length;t++)o[t]/=255,o[t]<.03928?o[t]/=12.92:o[t]=Math.pow((o[t]+.055)/1.055,2.4);return.2126*o[0]+.7152*o[1]+.0722*o[2]},Color.random=function random(){return new Color({color:[255,255,255].map(function(o){return Math.round(o*Math.random())})})},Color.randomFromString=function randomFromString(o){void 0===o&&(o="");function mc(o){for(var r=4294967295,t=0;t<o.length;t++){var e=4026531840&(r=(r<<4)+o.charCodeAt(t));0!=e&&(r^=e>>>24,r^=e)}return Math.abs(r)}var r=mc(o),t=mc(o+r);return new Color({color:[r%256,t%256,mc(o+t)%256]})},Color.randomOfType=function randomOfType(o){if(void 0===o&&(o="rgb"),"string"!=typeof o)throw new TypeError("Parameter 1 must be of type string.");if(o=o.toLowerCase(),!Color.validTypes.includes(o))throw new TypeError("Parameter 1 '"+o+"' is not a valid type.");return Color.random()[o]},Color.randomOfTypeFormatted=function randomOfTypeFormatted(o,r,t){if(void 0===o&&(o="rgb"),void 0===r&&(r=!0),void 0===t&&(t=3),"string"!=typeof o)throw new TypeError("Parameter 1 must be of type string.");if(o=o.toLowerCase(),!Color.validTypes.includes(o))throw new TypeError("Parameter 1 '"+o+"' is not a valid type.");var e=Color.random();return e.capitalize=r,e.precision=t,e[o+"String"]},Color.contrastTextColor=function contrastTextColor(o,r){if(void 0===r&&(r="rgb"),"string"!=typeof r)throw new TypeError("Parameter 2 must be of type string.");if(r=r.toLowerCase(),!Color.validTypes.includes(r))throw new TypeError("Parameter 2 '"+r+"' is not a valid type.");var t=Color.contrastRatio(new Color({color:[255,255,255]}),new Color({color:o,type:r}));return Color.contrastRatio(new Color({color:[0,0,0]}),new Color({color:o,type:r}))<t?"#FFFFFF":"#000000"},Color.contrastRatio=function contrastRatio(o,r){if(!(o instanceof Color))throw new TypeError("Parameter 1 must be of type Color.");if(!(r instanceof Color))throw new TypeError("Parameter 2 must be of type Color.");var t=Color.luminance(o.rgb)+.05,e=Color.luminance(r.rgb)+.05;return t<e?e/t:t/e},Color.blend=function blend(o,r,t,e){if(void 0===t&&(t="rgb"),void 0===e&&(e=.5),!(o instanceof Color))throw new TypeError("Parameter 1 must be of type Color.");if(!(r instanceof Color))throw new TypeError("Parameter 2 must be of type Color.");if("string"!=typeof t)throw new TypeError("Parameter 3 must be of type string.");if(t=t.toLowerCase(),!Color.validTypes.includes(t))throw new TypeError("Parameter 3 '"+t+"' is not a valid type.");var n=o[t="hex"===t?"rgb":t],a=r[t],blend=new Array(3).fill().map(function(o,r){return n[r]*e+a[r]*(1-e)});return new Color({color:blend,type:t})},_createClass(Color,[{key:"rgb",get:function get(){return this._rgb},set:function set(o){this.updateColor(o,"rgb")}},{key:"rgbString",get:function get(){var o="RGB("+this.rgb.join(", ")+")";return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"hsl",get:function get(){return this._hsl},set:function set(o){this.updateColor(o,"hsl")}},{key:"hslString",get:function get(){var r=this,o="HSL("+this.hsl.map(function(o){return o.toFixed(r.precision)}).join(", ")+")";return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"hex",get:function get(){return this._hex},set:function set(o){this.updateColor(o,"hex")}},{key:"hexString",get:function get(){var o=this._hex;return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"xyz",get:function get(){return this._xyz},set:function set(o){this.updateColor(o,"xyz")}},{key:"xyzString",get:function get(){var r=this,o="XYZ("+this.xyz.map(function(o){return o.toFixed(r.precision)}).join(", ")+")";return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"lab",get:function get(){return this._lab},set:function set(o){this.updateColor(o,"lab")}},{key:"labString",get:function get(){var r=this,o="LAB("+this.lab.map(function(o){return o.toFixed(r.precision)}).join(", ")+")";return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"lchab",get:function get(){return this._lchab},set:function set(o){this.updateColor(o,"lchab")}},{key:"lchabString",get:function get(){var r=this,o=this.lchab.map(function(o){return o.toFixed(r.precision)});return this.capitalize?"LCHab("+o.join(", ")+")":"lchAB("+o.join(", ")+")"}},{key:"luv",get:function get(){return this._luv},set:function set(o){this.updateColor(o,"luv")}},{key:"luvString",get:function get(){var r=this,o="LUV("+this.luv.map(function(o){return o.toFixed(r.precision)}).join(", ")+")";return this.capitalize?o.toUpperCase():o.toLowerCase()}},{key:"lchuv",get:function get(){return this._lchuv},set:function set(o){this.updateColor(o,"lchuv")}},{key:"lchuvString",get:function get(){var r=this,o=this.lchuv.map(function(o){return o.toFixed(r.precision)});return this.capitalize?"LCHuv("+o.join(", ")+")":"lchUV("+o.join(", ")+")"}}]),Color}();Color.validTypes=["rgb","hex","hsl","xyz","lab","lchab","luv","lchuv"],Color.d65=[95.05,100,108.9],Color.maxZeroTolerance=Math.pow(10,-12),module.exports=Color;